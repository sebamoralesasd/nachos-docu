<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NachOS: code/machine/interrupt.hh File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NachOS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_050edd66366d13764f98250ef6db77f6.html">code</a></li><li class="navelem"><a class="el" href="dir_c6faf5bb1a362c64e2b4a502a2d69864.html">machine</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">interrupt.hh File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="list_8hh_source.html">lib/list.hh</a>&quot;</code><br />
</div>
<p><a href="interrupt_8hh_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPendingInterrupt.html">PendingInterrupt</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classInterrupt.html">Interrupt</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a9a61b6bd5154e67f1a6a0b1f2d4ac202"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupt_8hh.html#a9a61b6bd5154e67f1a6a0b1f2d4ac202">IntStatus</a> { <a class="el" href="interrupt_8hh.html#a9a61b6bd5154e67f1a6a0b1f2d4ac202af3cebeaf6c745c64d4bfcf88bdff58cb">INT_OFF</a>
, <a class="el" href="interrupt_8hh.html#a9a61b6bd5154e67f1a6a0b1f2d4ac202a5d269152a2e1320d8dae4c889f855de7">INT_ON</a>
, <a class="el" href="interrupt_8hh.html#a9a61b6bd5154e67f1a6a0b1f2d4ac202aa206f5ce6f9bb126a4a06c37cdb52077">NUM_INT_STATUS</a>
 }</td></tr>
<tr class="memdesc:a9a61b6bd5154e67f1a6a0b1f2d4ac202"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupts can be disabled (<code>INT_OFF</code>) or enabled (<code>INT_ON</code>).  <a href="interrupt_8hh.html#a9a61b6bd5154e67f1a6a0b1f2d4ac202">More...</a><br /></td></tr>
<tr class="separator:a9a61b6bd5154e67f1a6a0b1f2d4ac202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cc6b28ebc1a6f32bdfe9031c4deb568"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupt_8hh.html#a5cc6b28ebc1a6f32bdfe9031c4deb568">MachineStatus</a> { <a class="el" href="interrupt_8hh.html#a5cc6b28ebc1a6f32bdfe9031c4deb568a163f0a45d065ea9c362dc3238fa48488">IDLE_MODE</a>
, <a class="el" href="interrupt_8hh.html#a5cc6b28ebc1a6f32bdfe9031c4deb568a4491b929f6df22f919e4fb15efc9ba7f">SYSTEM_MODE</a>
, <a class="el" href="interrupt_8hh.html#a5cc6b28ebc1a6f32bdfe9031c4deb568a8f1d0f52603058645d563a80d7f589a3">USER_MODE</a>
, <a class="el" href="interrupt_8hh.html#a5cc6b28ebc1a6f32bdfe9031c4deb568a04bf2b9d6546f7c01fbb51ef076a0e01">NUM_MACHINE_STATUS</a>
 }</td></tr>
<tr class="separator:a5cc6b28ebc1a6f32bdfe9031c4deb568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5b2eeac230a658259cf105702f447db"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interrupt_8hh.html#ab5b2eeac230a658259cf105702f447db">IntType</a> { <br />
&#160;&#160;<a class="el" href="interrupt_8hh.html#ab5b2eeac230a658259cf105702f447dbaf93f240466a1c1e17077c7ac4422d50d">TIMER_INT</a>
, <a class="el" href="interrupt_8hh.html#ab5b2eeac230a658259cf105702f447dba56cde8d797b1383e3568e3344cc8d42d">DISK_INT</a>
, <a class="el" href="interrupt_8hh.html#ab5b2eeac230a658259cf105702f447dba3ad938c08472b7d8b7e762f8d14edd94">CONSOLE_WRITE_INT</a>
, <a class="el" href="interrupt_8hh.html#ab5b2eeac230a658259cf105702f447dba57f9a8d8466948fca3f798929180bda7">CONSOLE_READ_INT</a>
, <br />
&#160;&#160;<a class="el" href="interrupt_8hh.html#ab5b2eeac230a658259cf105702f447dba1605fea52eb1d8c664a58c7c46b0ae7f">NETWORK_SEND_INT</a>
, <a class="el" href="interrupt_8hh.html#ab5b2eeac230a658259cf105702f447dbad3c35a7508e13f4080d2873234504e1f">NETWORK_RECV_INT</a>
, <a class="el" href="interrupt_8hh.html#ab5b2eeac230a658259cf105702f447dba2836e2574c31cb26d780fc850b99116f">NUM_INT_TYPES</a>
<br />
 }</td></tr>
<tr class="separator:ab5b2eeac230a658259cf105702f447db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a9a61b6bd5154e67f1a6a0b1f2d4ac202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a61b6bd5154e67f1a6a0b1f2d4ac202">&#9670;&nbsp;</a></span>IntStatus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="interrupt_8hh.html#a9a61b6bd5154e67f1a6a0b1f2d4ac202">IntStatus</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupts can be disabled (<code>INT_OFF</code>) or enabled (<code>INT_ON</code>). </p>
<p>Data structures to emulate low-level interrupt hardware.</p>
<p>The hardware provides a routine (<code>SetLevel</code>) to enable or disable interrupts.</p>
<p>In order to emulate the hardware, we need to keep track of all interrupts the hardware devices would cause, and when they are supposed to occur.</p>
<p>This module also keeps track of simulated time. Time advances only when the following occur:</p>
<ul>
<li>interrupts are re-enabled;</li>
<li>a user instruction is executed;</li>
<li>there is nothing in the ready queue.</li>
</ul>
<p>As a result, unlike real hardware, interrupts (and thus time-slice context switches) cannot occur anywhere in the code where interrupts are enabled, but rather only at those places in the code where simulated time advances (so that it becomes time to invoke an interrupt in the hardware simulation).</p>
<p>NOTE: this means that incorrectly synchronized code may work fine on this hardware simulation (even with randomized time slices), but it would not work on real hardware. (Just because we cannot always detect when your program would fail in real life, does not mean it is ok to write incorrectly synchronized code!)</p>
<p>DO NOT CHANGE &ndash; part of the machine emulation</p>
<p>Copyright (c) 1992-1993 The Regents of the University of California. 2016-2021 Docentes de la Universidad Nacional de Rosario. All rights reserved. See <code><a class="el" href="copyright_8h.html">copyright.h</a></code> for copyright notice and limitation of liability and disclaimer of warranty provisions. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9a61b6bd5154e67f1a6a0b1f2d4ac202af3cebeaf6c745c64d4bfcf88bdff58cb"></a>INT_OFF&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9a61b6bd5154e67f1a6a0b1f2d4ac202a5d269152a2e1320d8dae4c889f855de7"></a>INT_ON&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9a61b6bd5154e67f1a6a0b1f2d4ac202aa206f5ce6f9bb126a4a06c37cdb52077"></a>NUM_INT_STATUS&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="ab5b2eeac230a658259cf105702f447db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5b2eeac230a658259cf105702f447db">&#9670;&nbsp;</a></span>IntType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="interrupt_8hh.html#ab5b2eeac230a658259cf105702f447db">IntType</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><code>IntType</code> records which hardware device generated an interrupt. In Nachos, we support a hardware timer device, a disk, a console display and keyboard, and a network. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab5b2eeac230a658259cf105702f447dbaf93f240466a1c1e17077c7ac4422d50d"></a>TIMER_INT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab5b2eeac230a658259cf105702f447dba56cde8d797b1383e3568e3344cc8d42d"></a>DISK_INT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab5b2eeac230a658259cf105702f447dba3ad938c08472b7d8b7e762f8d14edd94"></a>CONSOLE_WRITE_INT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab5b2eeac230a658259cf105702f447dba57f9a8d8466948fca3f798929180bda7"></a>CONSOLE_READ_INT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab5b2eeac230a658259cf105702f447dba1605fea52eb1d8c664a58c7c46b0ae7f"></a>NETWORK_SEND_INT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab5b2eeac230a658259cf105702f447dbad3c35a7508e13f4080d2873234504e1f"></a>NETWORK_RECV_INT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab5b2eeac230a658259cf105702f447dba2836e2574c31cb26d780fc850b99116f"></a>NUM_INT_TYPES&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a5cc6b28ebc1a6f32bdfe9031c4deb568"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cc6b28ebc1a6f32bdfe9031c4deb568">&#9670;&nbsp;</a></span>MachineStatus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="interrupt_8hh.html#a5cc6b28ebc1a6f32bdfe9031c4deb568">MachineStatus</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Nachos can be running kernel code (<code>SYSTEM_MODE</code>), user code (<code>USER_MODE</code>), or there can be no runnable thread, because the ready list is empty (<code>IDLE_MODE</code>). </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5cc6b28ebc1a6f32bdfe9031c4deb568a163f0a45d065ea9c362dc3238fa48488"></a>IDLE_MODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5cc6b28ebc1a6f32bdfe9031c4deb568a4491b929f6df22f919e4fb15efc9ba7f"></a>SYSTEM_MODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5cc6b28ebc1a6f32bdfe9031c4deb568a8f1d0f52603058645d563a80d7f589a3"></a>USER_MODE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5cc6b28ebc1a6f32bdfe9031c4deb568a04bf2b9d6546f7c01fbb51ef076a0e01"></a>NUM_MACHINE_STATUS&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
