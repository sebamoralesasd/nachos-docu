<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NachOS: code/filesys/file_system.hh File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NachOS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_050edd66366d13764f98250ef6db77f6.html">code</a></li><li class="navelem"><a class="el" href="dir_8e72e263aa613966cfdc557bf0a05642.html">filesys</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">file_system.hh File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="open__file_8hh_source.html">open_file.hh</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="directory__entry_8hh_source.html">directory_entry.hh</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="disk_8hh_source.html">machine/disk.hh</a>&quot;</code><br />
</div>
<p><a href="file__system_8hh_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFileSystem.html">FileSystem</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad5e71eac4ba55de5a2aa15b7a56030c9"><td class="memItemLeft" align="right" valign="top">static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file__system_8hh.html#ad5e71eac4ba55de5a2aa15b7a56030c9">FREE_MAP_FILE_SIZE</a> = <a class="el" href="disk_8hh.html#a5f630f888cd789c1143ca8ccfa48460e">NUM_SECTORS</a> / <a class="el" href="utility_8hh.html#a94ee16c2d653cd98f086a5f7b8ea453d">BITS_IN_BYTE</a></td></tr>
<tr class="separator:ad5e71eac4ba55de5a2aa15b7a56030c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9801281bc28f90d43da409f93f0387e"><td class="memItemLeft" align="right" valign="top">static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file__system_8hh.html#ad9801281bc28f90d43da409f93f0387e">NUM_DIR_ENTRIES</a> = 10</td></tr>
<tr class="separator:ad9801281bc28f90d43da409f93f0387e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0194a7772150b49dbbbb130a05bdfd14"><td class="memItemLeft" align="right" valign="top">static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="file__system_8hh.html#a0194a7772150b49dbbbb130a05bdfd14">DIRECTORY_FILE_SIZE</a> = sizeof (<a class="el" href="classDirectoryEntry.html">DirectoryEntry</a>) * <a class="el" href="file__system_8hh.html#ad9801281bc28f90d43da409f93f0387e">NUM_DIR_ENTRIES</a></td></tr>
<tr class="separator:a0194a7772150b49dbbbb130a05bdfd14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0194a7772150b49dbbbb130a05bdfd14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0194a7772150b49dbbbb130a05bdfd14">&#9670;&nbsp;</a></span>DIRECTORY_FILE_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned DIRECTORY_FILE_SIZE = sizeof (<a class="el" href="classDirectoryEntry.html">DirectoryEntry</a>) * <a class="el" href="file__system_8hh.html#ad9801281bc28f90d43da409f93f0387e">NUM_DIR_ENTRIES</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad5e71eac4ba55de5a2aa15b7a56030c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5e71eac4ba55de5a2aa15b7a56030c9">&#9670;&nbsp;</a></span>FREE_MAP_FILE_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned FREE_MAP_FILE_SIZE = <a class="el" href="disk_8hh.html#a5f630f888cd789c1143ca8ccfa48460e">NUM_SECTORS</a> / <a class="el" href="utility_8hh.html#a94ee16c2d653cd98f086a5f7b8ea453d">BITS_IN_BYTE</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Data structures to represent the Nachos file system.</p>
<p>A file system is a set of files stored on disk, organized into directories. Operations on the file system have to do with “naming” &ndash; creating, opening, and deleting files, given a textual file name. Operations on an individual “open” file (read, write, close) are to be found in the <code><a class="el" href="classOpenFile.html">OpenFile</a></code> class (<code>openfile.h</code>).</p>
<p>We define two separate implementations of the file system:</p>
<ul>
<li>The <code>STUB</code> version just re-defines the Nachos file system operations as operations on the native UNIX file system on the machine running the Nachos simulation. This is provided in case the multiprogramming and virtual memory assignments (which make use of the file system) are done before the file system assignment.</li>
<li><p class="startli">The other version is a “real” file system, built on top of a disk simulator. The disk is simulated using the native UNIX file system (in a file named <code>DISK</code>).</p>
<p class="startli">In the "real" implementation, there are two key data structures used in the file system. There is a single “root” directory, listing all of the files in the file system; unlike UNIX, the baseline system does not provide a hierarchical directory structure. In addition, there is a bitmap for allocating disk sectors. Both the root directory and the bitmap are themselves stored as files in the Nachos file system &ndash; this causes an interesting bootstrap problem when the simulated disk is initialized.</p>
</li>
</ul>
<p>Copyright (c) 1992-1993 The Regents of the University of California. 2016-2021 Docentes de la Universidad Nacional de Rosario. All rights reserved. See <code><a class="el" href="copyright_8h.html">copyright.h</a></code> for copyright notice and limitation of liability and disclaimer of warranty provisions. Initial file sizes for the bitmap and directory; until the file system supports extensible files, the directory size sets the maximum number of files that can be loaded onto the disk. </p>

</div>
</div>
<a id="ad9801281bc28f90d43da409f93f0387e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9801281bc28f90d43da409f93f0387e">&#9670;&nbsp;</a></span>NUM_DIR_ENTRIES</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned NUM_DIR_ENTRIES = 10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
